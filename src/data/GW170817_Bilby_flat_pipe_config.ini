################################################################################
## Dynesty Settings
################################################################################

nlive=1000
dlogz=0.1
n-effective=inf
dynesty-sample=rwalk
dynesty-bound=multi
walks=100
maxmcmc=5000
nact=20
min-eff=10
facc=0.5
vol-dec=0.5
vol-check=8
enlarge=1.5
n-check-point=100
max-its=10000000000
max-run-time=10000000000.0
fast-mpi=False
mpi-timing=False
mpi-timing-interval=0
nestcheck=False

################################################################################
## PTEmcee Settings
################################################################################

nsamples=10000
ntemps=20
nwalkers=100
max-iterations=100000
ncheck=500
burn-in-nact=50.0
thin-by-nact=1.0
frac-threshold=0.01
nfrac=5
min-tau=30
Tmax=10000
safety=1.0
autocorr-c=5.0
autocorr-tol=50.0
adapt=False

################################################################################
## Misc. Settings
################################################################################

bilby-zero-likelihood-mode=False
sampling-seed=None
clean=False
no-plot=False
do-not-save-bounds-in-resume=False
check-point-deltaT=3600
rotate-checkpoints=False

################################################################################
## Calibration arguments
################################################################################

calibration-model=None
spline-calibration-envelope-dict=None
spline-calibration-nodes=10
spline-calibration-amplitude-uncertainty-dict=None
spline-calibration-phase-uncertainty-dict=None
calibration-prior-boundary=reflective

################################################################################
## Data generation arguments
################################################################################

ignore-gwpy-data-quality-check=True
gps-tuple=None
gps-file=None
timeslide-file=None
timeslide-dict=None
trigger-time=1187008882.43
n-simulation=0
# Download the data from https://www.gw-openscience.org/events/GW170817/ and place in raw_data/
data-dict={H1:raw_data/H-H1_LOSC_CLN_4_V1-1187007040-2048.gwf, L1:raw_data/L-L1_LOSC_CLN_4_V1-1187007040-2048.gwf, V1:raw_data/V-V1_LOSC_CLN_4_V1-1187007040-2048.gwf}
data-format=None
allow-tape=True
channel-dict={H1:LOSC-STRAIN, L1:LOSC-STRAIN, V1=LOSC-STRAIN}

################################################################################
## Detector arguments
################################################################################

coherence-test=False
detectors=[H1, L1, V1]
duration=128.0
generation-seed=None
psd-dict={H1=psd_data/h1_psd.txt, L1=psd_data/l1_psd.txt, V1=psd_data/v1_psd.txt}
psd-fractional-overlap=0.5
post-trigger-duration=2.0
sampling-frequency=4096
psd-length=32
psd-maximum-duration=1024
psd-method=median
psd-start-time=None
maximum-frequency=1792
minimum-frequency={ H1: 20, L1: 20,  V1: 20  }
tukey-roll-off=0.4
resampling-method=lal

################################################################################
## Injection arguments
################################################################################

injection=False
injection-numbers=None
injection-waveform-approximant=None
injection-waveform-arguments=None

################################################################################
## Job submission arguments
################################################################################

accounting-user=None
label=GW170817-IMRD
outdir=/mnt/ceph/users/misi/projects/cbc/GW170817/imrd-broadsky-flat-lowspin-nomarg-extended/outdir
overwrite-outdir=False
periodic-restart-time=28800
request-disk=1.0
conda-env=None
scheduler-analysis-time=7-00:00:00
submit=False
condor-job-priority=0
log-directory=None
desired-sites=None
analysis-executable=None
analysis-executable-parser=None

################################################################################
## Likelihood arguments
################################################################################

distance-marginalization=False
distance-marginalization-lookup-table=None
phase-marginalization=False
time-marginalization=False
jitter-time=True
reference-frame=sky
time-reference=geocent
likelihood-type=GravitationalWaveTransient
roq-folder=None
roq-weights=None
roq-scale-factor=1
extra-likelihood-kwargs=None

################################################################################
## Output arguments
################################################################################

plot-trace=False
plot-data=False
plot-injection=False
plot-spectrogram=False
create-summary=False
notification=Never
existing-dir=None
webdir=None
summarypages-arguments=None
result-format=hdf5
final-result=True
final-result-nsamples=20000

################################################################################
## Prior arguments
################################################################################

default-prior=BNSPriorDict
deltaT=0.2
enforce-signal-duration=False

################################################################################
## Post processing arguments
################################################################################

single-postprocessing-executable=None
single-postprocessing-arguments=None

################################################################################
## Sampler arguments
################################################################################

n-parallel=1

################################################################################
## Waveform arguments
################################################################################

waveform-generator=bilby.gw.waveform_generator.WaveformGenerator
reference-frequency=20.0
waveform-approximant=IMRPhenomD
catch-waveform-errors=True
pn-spin-order=-1
pn-tidal-order=-1
pn-phase-order=-1
pn-amplitude-order=0
numerical-relativity-file=None
waveform-arguments-dict=None
mode-array=None
frequency-domain-source-model=lal_binary_neutron_star
conversion-function=None
generation-function=None

################################################################################
## Slurm Settings
################################################################################

################################################################################
## Slurm Settings
################################################################################
nodes=10
ntasks-per-node=40
time=24:00:00
mem-per-cpu=None
extra-lines=None
slurm-extra-lines=partition=cca constraint=skylake,opa

